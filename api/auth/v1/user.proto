syntax = "proto3";

package auth.v1;

import "google/api/annotations.proto";

option go_package = "auth/api/users/v1;v1";

service User {
  rpc Add (AddRequest) returns (AddResponse) {
    option (google.api.http) = {
      post: "/v1/users/login"
      body: "*"
    };
  }

  rpc Edit (EditRequest) returns (UserNothing) {
    option (google.api.http) = {
      post: "/v1/users/edit"
      body: "*"
    };
  }

  rpc Activate (ActivateRequest) returns (UserNothing) {
    option (google.api.http) = {
      post: "/v1/users/activate"
      body: "*"
    };
  }

  rpc Deactivate (DeactivateRequest) returns (UserNothing) {
    option (google.api.http) = {
      post: "/v1/users/deactivate"
      body: "*"
    };
  }
}

message UserNothing {}

message AddRequest {
  string username = 1;
  string display_name = 2;
  string type = 3;
  string phone = 4;
  string email = 5;
  string password = 6;
  bool activated = 7;
}

message AddResponse {
  string id = 1;
}

message EditRequest {
  optional string username = 1;
  optional string display_name = 2;
  optional string type = 3;
  optional string phone = 4;
  optional string email = 5;
  optional string password = 6;
}

message ActivateRequest {
  string id = 1;
}

message DeactivateRequest {
  string id = 1;
}
